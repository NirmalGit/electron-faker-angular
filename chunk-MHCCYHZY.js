import{b as B,d as N,e as Q}from"./chunk-I7EA2O7Q.js";import{a as J,b as K,c as X}from"./chunk-YLOBQ3AU.js";import"./chunk-X6MGKJEZ.js";import{a as q,b as Z}from"./chunk-K625ZTTT.js";import"./chunk-YR3SB5I4.js";import{b as Y}from"./chunk-TU4LU5YU.js";import"./chunk-GRDYVP3Q.js";import{Ca as h,Cc as j,Dc as V,E as C,Ea as u,Fb as H,Ga as s,Gb as L,H as y,I as l,J as m,Ua as a,Va as v,Wa as x,Wc as W,X as z,Xc as U,Y as d,aa as D,cb as $,da as b,ea as M,ic as f,jc as R,lc as A,mc as I,na as g,oa as p,oc as F,pa as E,pc as G,qa as S,ra as P,sa as _,ta as r,ua as i,va as O,wb as k}from"./chunk-A7ZUIS7E.js";var T=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=M({type:t});static \u0275inj=C({imports:[f,f]})}return t})();var et=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=M({type:t});static \u0275inj=C({imports:[T,f,T,f]})}return t})();var ot=t=>["/products",t],rt=(t,n)=>n.id;function at(t,n){if(t&1){let e=h();r(0,"mat-chip-option",9),u("click",function(){let c=l(e).$implicit,w=s(2);return m(w.filterByCategory(c))}),a(1),i()}if(t&2){let e=n.$implicit;d(),x(" ",e," ")}}function dt(t,n){if(t&1){let e=h();r(0,"div",3)(1,"mat-chip-listbox")(2,"mat-chip-option",8),u("click",function(){l(e);let c=s();return m(c.loadAllProducts())}),r(3,"mat-icon"),a(4,"apps"),i(),a(5," All Products "),i(),S(6,at,2,1,"mat-chip-option",null,E),i()()}if(t&2){let e=s();d(6),P(e.productService.categories())}}function st(t,n){t&1&&O(0,"app-loading-spinner",4),t&2&&_("diameter",60)}function ct(t,n){if(t&1){let e=h();r(0,"app-error-message",10),u("retry",function(){l(e);let c=s();return m(c.onRetry())}),i()}if(t&2){let e=s();_("message",e.productService.error()||"Unknown error")}}function lt(t,n){if(t&1){let e=h();r(0,"mat-card",11)(1,"div",12),O(2,"img",13),i(),r(3,"mat-card-content")(4,"h3",14),a(5),i(),r(6,"p",15),a(7),i(),r(8,"div",16)(9,"div",17),a(10),i(),r(11,"div",18)(12,"mat-icon",19),a(13,"star"),i(),r(14,"span"),a(15),i()()()(),r(16,"mat-card-actions")(17,"button",20)(18,"mat-icon"),a(19,"visibility"),i(),a(20," View "),i(),r(21,"button",21),u("click",function(){let c=l(e).$implicit,w=s(2);return m(w.addToCart(c))}),r(22,"mat-icon"),a(23,"add_shopping_cart"),i(),a(24," Add to Cart "),i()()()}if(t&2){let e=n.$implicit,o=s(2);d(2),_("src",e.image,z)("alt",e.title),d(3),v(o.truncateText(e.title,40)),d(2),v(e.category),d(3),x("$",e.price.toFixed(2)),d(5),v(e.rating.rate.toFixed(1)),d(2),_("routerLink",$(7,ot,e.id))}}function mt(t,n){if(t&1&&(r(0,"div",6),S(1,lt,25,9,"mat-card",11,rt),i()),t&2){let e=s();d(),P(e.productService.products())}}function gt(t,n){if(t&1){let e=h();r(0,"div",7)(1,"mat-icon",22),a(2,"shopping_bag"),i(),r(3,"h2"),a(4,"No Products Found"),i(),r(5,"p"),a(6,"There are no products available at the moment."),i(),r(7,"button",23),u("click",function(){l(e);let c=s();return m(c.onRetry())}),r(8,"mat-icon"),a(9,"refresh"),i(),a(10," Refresh "),i()()}}var it=class t{constructor(n){this.productService=n}cartService=y(Y);snackBar=y(q);router=y(H);ngOnInit(){this.productService.loadProducts(),this.productService.loadCategories()}onRetry(){this.productService.clearError(),this.productService.loadProducts()}filterByCategory(n){this.productService.loadProductsByCategory(n)}loadAllProducts(){this.productService.loadProducts()}truncateText(n,e=100){return n.length<=e?n:n.substring(0,e)+"..."}addToCart(n){console.log("\u{1F6D2} Dashboard addToCart called with product:",n),this.cartService.addToCart(n),console.log("\u{1F6D2} After adding to cart, cart summary:",this.cartService.cartSummary()),this.snackBar.open(`${n.title} added to cart!`,"View Cart",{duration:3e3,horizontalPosition:"right",verticalPosition:"bottom"}).onAction().subscribe(()=>{this.router.navigate(["/cart"])})}static \u0275fac=function(e){return new(e||t)(D(X))};static \u0275cmp=b({type:t,selectors:[["app-dashboard"]],decls:11,vars:6,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"subtitle"],[1,"category-filter"],["message","Loading products...",3,"diameter"],["title","Failed to Load Products",3,"message"],[1,"products-grid"],[1,"empty-state"],["selected","",3,"click"],[3,"click"],["title","Failed to Load Products",3,"retry","message"],[1,"product-card"],[1,"product-image-container"],["mat-card-image","",1,"product-image",3,"src","alt"],[1,"product-title"],[1,"product-category"],[1,"product-footer"],[1,"product-price"],[1,"product-rating"],[1,"rating-icon"],["mat-raised-button","","color","primary","size","small",3,"routerLink"],["mat-button","","color","accent","size","small",3,"click"],[1,"empty-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Product Dashboard"),i(),r(4,"p",2),a(5),i()(),g(6,dt,8,0,"div",3),g(7,st,1,1,"app-loading-spinner",4),g(8,ct,1,1,"app-error-message",5),g(9,mt,3,0,"div",6),g(10,gt,11,0,"div",7),i()),e&2&&(d(5),x("Browse our collection of ",o.productService.productsCount()," products"),d(),p(o.productService.categories().length>0?6:-1),d(),p(o.productService.loading()?7:-1),d(),p(o.productService.error()&&!o.productService.loading()?8:-1),d(),p(!o.productService.loading()&&!o.productService.error()&&o.productService.hasProducts()?9:-1),d(),p(!o.productService.loading()&&!o.productService.error()&&!o.productService.hasProducts()?10:-1))},dependencies:[k,L,G,R,I,A,F,V,j,et,Q,N,B,U,W,Z,J,K],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.5rem;color:#1976d2}.dashboard-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0009}.category-filter[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;justify-content:center}.category-filter[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.category-filter[_ngcontent-%COMP%]   mat-chip-option[_ngcontent-%COMP%]{cursor:pointer;text-transform:capitalize}.category-filter[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.25rem}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1.2rem;margin-top:2rem}.product-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;transition:transform .2s,box-shadow .2s}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #00000026}.product-card[_ngcontent-%COMP%]   .product-image-container[_ngcontent-%COMP%]{height:180px;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;padding:.8rem}.product-card[_ngcontent-%COMP%]   .product-image-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{max-height:100%;max-width:100%;object-fit:contain}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex:1;padding:.8rem}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;margin-bottom:.4rem;color:#333;min-height:2.2rem;line-height:1.2}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-category[_ngcontent-%COMP%]{font-size:.8rem;color:#1976d2;text-transform:capitalize;margin-bottom:.6rem}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.6rem}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-footer[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#2e7d32}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-footer[_ngcontent-%COMP%]   .product-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.2rem;font-size:.85rem;color:#000000b3}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-footer[_ngcontent-%COMP%]   .product-rating[_ngcontent-%COMP%]   .rating-icon[_ngcontent-%COMP%]{color:#ffc107;font-size:1rem;width:1rem;height:1rem}.product-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:.6rem .8rem;display:flex;gap:.4rem}.product-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;font-size:.8rem}.product-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.2rem;font-size:1rem;width:1rem;height:1rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:#0000004d;margin:0 auto 1rem}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#0009;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#00000080;margin-bottom:1.5rem}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:.8rem}}@media (max-width: 480px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:.6rem}.product-card[_ngcontent-%COMP%]   .product-image-container[_ngcontent-%COMP%]{height:140px;padding:.5rem}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:.6rem}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-size:.9rem;min-height:2rem}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-category[_ngcontent-%COMP%]{font-size:.75rem}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-footer[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:1.1rem}.product-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:.5rem .6rem}.product-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem}.product-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.9rem;width:.9rem;height:.9rem}}"]})};export{it as DashboardComponent};
